!function(n){"use strict";window.abslayer=window.abslayer||{},abslayer.Projects=abslayer.Projects||{};var r=window.abslayer.Helpers,e=window.abslayer.NumberUtil,a=(fetch(r.getApiEndpointUrl("getProjects")).then(function(t){return t.json()}).then(function(t){for(var i=t.projects,a=i=r.filterByRules([{relation:"and",terms:[{key:"project",value:"",operator:"!"}]}],i),o=a.length-1;0<=o;o--){var s=(a[o].category||"").trim().split(","),e=[];s.map(function(t,a){e.push({name:t.trim(),slug:r.sanitizeKey(t.trim(),"uncategorized")})}),a[o].categories=e,a[o].category_slugs=e.map(t=>t.slug),a[o].project_slug=r.sanitizeSlug(a[o].project)}n.ajax({method:"GET",url:r.getApiEndpointUrl("getVoteCount"),success:function(t){for(var a=0;a<i.length;a++)t.hasOwnProperty(i[a].project_id)&&(i[a].vote_count=t[i[a].project_id]);i.sort(abslayer.ArrayUtil.dynamicSort("vote_count"));for(a=0;a<i.length;a++)i[a].rank=a+1;n(document.body).trigger("abslayer/EcosystemMap/Data",[i]),abslayer.Projects=i,n(document.body).trigger("abslayer/EcosystemMap/Loaded")}})}),fetch(r.getApiEndpointUrl("chainData/polkadot")).then(function(t){return 200===t.status&&t.json()}).then(function(t){var a,i,o,s;t&&(a=n("#statistic-dot-finalized-blocks"),i=n("#statistic-dot-signed-extrinsics"),o=n("#statistic-dot-accounts"),s=n("#statistic-dot-transactions"),a.find(".statistic-amount").html(e.formatWithCommas(t.finalizedBlockNum)),a.find(".statistic-volume .value").html(e.formatWithCommas("+"+t.block_change_24h)),i.find(".statistic-amount").html(e.formatWithCommas(t.countSignedExtrinsic)),i.find(".statistic-volume .value").html(e.formatWithCommas("+"+t.extrinsicsChange)),o.find(".statistic-amount").html(e.formatWithCommas(t.accounts)),o.find(".statistic-volume .value").html(e.formatWithCommas("+"+t.accounts_change_24h)),s.find(".statistic-amount").html(e.formatWithCommas(t.transfers)),s.find(".statistic-volume .value").html(e.formatWithCommas("+"+t.transfers_change_24h)))}),n("#polkadot-statistic-slider"));function t(){var t=window.innerWidth/100*85,t=Math.min(t,408);a.css("--statistic-block-width",t+"px")}n(document).ready(function(){t()}),n(window).on("hresize_one",function(){t()})}(jQuery);